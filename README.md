
# TO DO
- ensure certificate renewal


# Configure host

```bash
# install dependencies
sudo apt update && sudo  apt upgrade -y
sudo apt install -y docker docker-compose
```

## Set config variables
**domain**
Update domain (do6.us)
`services\nginx\user_conf.d\default.conf`


**conf file**
Update CERTBOT_EMAIL
`services\nginx\nginx-certbot.env`

**set password**
`.env`
```
PASSWORD="super-secure-password"
```

## clone repository to server
```bash
git clone https://github.com/alecmaly/exploit-server.git
```

## Clear all containers and images
```bash
docker rm $(docker ps -a -f status=exited -q)
docker rmi $(docker images -a -q)
```

# Nginx

[Install ssl cert](https://certbot.eff.org/instructions?ws=nginx&os=ubuntufocal)

## Install ssl certificate
```bash
docker exec -it $(docker ps | grep nginx | cut -d' ' -f1) bash
certbot --nginx -d do6.com -d www.do6.us 
```

**Conjob to renew cert**
```bash
0 12 * * * /usr/bin/certbot renew --quiet
```

